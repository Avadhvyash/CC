<div class="demo-table-container mat-elevation-z4">

  <cdk-table #table [dataSource]="dataSource">

    <!-- Column Definition: ID -->
    <ng-container cdkColumnDef="userId">
      <cdk-header-cell *cdkHeaderCellDef> ID </cdk-header-cell>
      <cdk-row-cell *cdkRowCellDef="let row"> {{row.id}} </cdk-row-cell>
    </ng-container>

    <!-- Column Definition: Progress -->
    <ng-container cdkColumnDef="progress">
      <cdk-header-cell *cdkHeaderCellDef> Progress </cdk-header-cell>
      <cdk-row-cell *cdkRowCellDef="let row">
        <div class="demo-progress-stat">{{row.progress}}%</div>
        <div class="demo-progress-indicator-container">
          <div class="demo-progress-indicator"
               [style.background]="row.progress > 50 ? 'green' : 'red'"
               [style.opacity]="getOpacity(row.progress)"
               [style.width]="row.progress + '%'"></div>
        </div>
      </cdk-row-cell>
    </ng-container>

    <!-- Column Definition: Name -->
    <ng-container cdkColumnDef="userName">
      <cdk-header-cell *cdkHeaderCellDef> Name </cdk-header-cell>
      <cdk-row-cell *cdkRowCellDef="let row"> {{row.name}} </cdk-row-cell>
    </ng-container>

    <!-- Column Definition: Color -->
    <ng-container cdkColumnDef="color">
      <cdk-header-cell *cdkHeaderCellDef>Color</cdk-header-cell>
      <cdk-row-cell *cdkRowCellDef="let row" [style.color]="row.color"> {{row.color}} </cdk-row-cell>
    </ng-container>

    <cdk-header-row *cdkHeaderRowDef="propertiesToDisplay"></cdk-header-row>
    <cdk-row *cdkRowDef="let row; columns: propertiesToDisplay"></cdk-row>
  </cdk-table>
</div>
