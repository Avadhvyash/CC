<div class="mat-horizontal-stepper-header-container">
  <ng-container *ngFor="let step of _steps; let i = index; let isLast = last">
    <div #stepHeader class="mat-horizontal-stepper-header"
         role="tab"
         [id]="_getStepLabelId(i)"
         [attr.aria-controls]="_getStepContentId(i)"
         [attr.aria-selected]="selectedIndex == i"
         [tabIndex]="_focusIndex == i ? 0 : -1"
         (click)="step.select()"
         (keydown)="_onKeydown($event)">
      <md-step-icon [step]="step" [selected]="selectedIndex == i" [index]="i"></md-step-icon>
      <md-step-label-container [step]="step" [selected]="selectedIndex == i">
      </md-step-label-container>
    </div>
    <div *ngIf="!isLast" class="mat-stepper-horizontal-line"></div>
  </ng-container>
</div>

<div class="mat-horizontal-content-container">
  <div *ngFor="let step of _steps; let i = index"
       class="mat-horizontal-stepper-content" role="tabpanel"
       [@stepTransition]="_getAnimationDirection(i)"
       [id]="_getStepContentId(i)"
       [attr.aria-labelledby]="_getStepLabelId(i)"
       [attr.aria-expanded]="selectedIndex == i">
    <ng-container [ngTemplateOutlet]="step.content"></ng-container>
  </div>
</div>
