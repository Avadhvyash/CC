@import '../core/style/variables';
@import '../core/style/vendor-prefixes';


// Styles that only apply to the standard variant of the form-field.

// The height of the underline.
$mat-form-field-underline-height: 1px !default;


.mat-form-field-variant-standard {
  // The underline is what's shown under the control, its prefix and its suffix.
  // The ripple is the blue animation coming on top of it.
  .mat-form-field-underline {
    position: absolute;
    height: $mat-form-field-underline-height;
    width: 100%;

    .mat-form-field-ripple {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: $mat-form-field-underline-height * 2;
      transform-origin: 50%;
      transform: scaleX(0.5);
      opacity: 0;
      transition: background-color $swift-ease-in-duration $swift-ease-in-timing-function;
    }
  }

  &.mat-form-field-disabled .mat-form-field-underline {
    background-position: 0;
    background-color: transparent;
  }

  &.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple {
    height: $mat-form-field-underline-height;
  }

  &.mat-focused,
  &.mat-form-field-invalid {
    .mat-form-field-ripple {
      opacity: 1;
      transform: scaleX(1);
      transition: transform 300ms $swift-ease-out-timing-function,
                  opacity 100ms $swift-ease-out-timing-function,
                  background-color 300ms $swift-ease-out-timing-function;
    }
  }

  // Note that we need this specific of a selector because we don't want
  // the hover effect to show when the user hovers over the hints.
  &:not(.mat-form-field-disabled) .mat-input-flex:hover ~ .mat-input-underline {
    .mat-form-field-ripple {
      opacity: 1;
      transform: none;
      transition: opacity 600ms $swift-ease-out-timing-function;
    }
  }
}
