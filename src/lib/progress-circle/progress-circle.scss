@import 'variables';

@import 'default-theme';

/* Animation Durations */
$mat-progress-circle-duration: 5250ms !default;
$mat-progress-circle-constant-rotate-duration: $mat-progress-circle-duration * 0.55 !default;
$mat-progress-circle-sporadic-rotate-duration: $mat-progress-circle-duration !default;

/** Component sizing */
$mat-progress-circle-stroke-width: 10px !default;
// Height and weight of the viewport for mat-progress-circle.
$mat-progress-circle-viewport-size: 100px !default;


:host {
  display: block;
  /** Height and width are provided for mat-progress-circle to act as a default.
      The height and width are expected to be overwritten by application css. */
  height: $mat-progress-circle-viewport-size;
  width: $mat-progress-circle-viewport-size;

  /** SVG's viewBox is defined as 0 0 100 100, this means that all SVG children will placed
      based on a 100px by 100px box.  Additionally all SVG sizes and locations are in reference to
      this viewBox.
  */
  svg {
    height: 100%;
    width: 100%;
    transform-origin: center;
  }


  path {
    fill: transparent;
    stroke: mat-color($mat-primary, 600);
    /** Stroke width of 10px defines stroke as 10% of the viewBox */
    stroke-width: $mat-progress-circle-stroke-width;
  }

  &[color='accent'] path {
    stroke: mat-color($mat-accent, 600);
  }


  &[color='warn'] path {
    stroke: mat-color($mat-warn, 600);
  }


  &[mode='indeterminate'] {
    animation-duration: $mat-progress-circle-sporadic-rotate-duration,
                        $mat-progress-circle-constant-rotate-duration;
    animation-name: mat-progress-circle-sporadic-rotate,
                    mat-progress-circle-linear-rotate;
    animation-timing-function: $ease-in-out-curve-function,
                               linear;
    animation-iteration-count: infinite;
    transition: none;
  }
}


/** Animations for indeterminate mode */
@keyframes mat-progress-circle-linear-rotate {
  0%       { transform: rotate(0deg); }
  100%     { transform: rotate(360deg); }
}
@keyframes mat-progress-circle-sporadic-rotate {
  12.5%    { transform: rotate( 135deg); }
  25%      { transform: rotate( 270deg); }
  37.5%    { transform: rotate( 405deg); }
  50%      { transform: rotate( 540deg); }
  62.5%    { transform: rotate( 675deg); }
  75%      { transform: rotate( 810deg); }
  87.5%    { transform: rotate( 945deg); }
  100%     { transform: rotate(1080deg); }
}
