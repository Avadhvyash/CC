@import '../theming/palette';
@import '../theming/theming';

$ripple-hover-color: map-get($mat-grey, 700);
$ripple-dark-theme-hover-color: map-get($mat-grey, 500);
$ripple-hover-height: 1px !default;

// Renders a gradient for showing the dashed line when the input is disabled.
// Unlike using a border, a gradient allows us to adjust the spacing of the dotted line
// to match the Material Design spec.
@mixin mat-control-disabled-underline($color) {
  background-image: linear-gradient(to right, $color 0%, $color 33%, transparent 0%);
  background-size: 4px 100%;
  background-repeat: repeat-x;
}

// Figures out the color of the placeholder for a form control.
// Used primarily to prevent the various form controls from
// becoming out of sync since these colors aren't in a palette.
@function _mat-control-placeholder-color($theme) {
  $foreground: map-get($theme, foreground);
  $is-dark-theme: map-get($theme, is-dark);
  @return mat-color($foreground, secondary-text, if($is-dark-theme, 0.5, 0.42));
}

@mixin mat-form-field-ripple($theme) {
  $is-dark-theme: map-get($theme, is-dark);

  &:not(.mat-form-field-invalid):not(.mat-focused) {
    .mat-form-field-ripple {
      background-color: if($is-dark-theme, $ripple-dark-theme-hover-color, $ripple-hover-color);
      height: $ripple-hover-height;
    }
  }
}
