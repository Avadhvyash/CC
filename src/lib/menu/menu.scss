// TODO(kara): update vars for desktop when MD team responds
// TODO(kara): animation for menu opening
@import 'variables';
@import 'elevation';
@import 'default-theme';
@import 'button-mixins';
@import 'sidenav-mixins';
@import 'list-shared';

// menu width must be a multiple of 56px
$mat-menu-overlay-min-width: 112px !default;   // 56 * 2
$mat-menu-overlay-max-width: 280px !default;   // 56 * 5

$mat-menu-item-height: 48px !default;
$mat-menu-font-size: 16px !default;
$mat-menu-side-padding: 16px !default;
$mat-menu-vertical-padding: 8px !default;

.mat-menu {
  @include mat-elevation(2);
  min-width: $mat-menu-overlay-min-width;
  max-width: $mat-menu-overlay-max-width;

  // max height must be 100% of the viewport height + one row height
  max-height: calc(100vh + 48px);
  overflow: auto;
  -webkit-overflow-scrolling: touch;   // for momentum scroll on mobile

  background: mat-color($mat-background, 'card');
  padding-top: $mat-menu-vertical-padding;
  padding-bottom: $mat-menu-vertical-padding;
}

[mat-menu-item] {
  @include mat-button-reset();
  @include mat-truncate-line();

  display: flex;
  flex-direction: row;
  align-items: center;
  height: $mat-menu-item-height;
  padding: 0 $mat-menu-side-padding;

  font-size: $mat-menu-font-size;
  font-family: $mat-font-family;
  text-align: start;
  text-decoration: none;   // necessary to reset anchor tags
  color: mat-color($mat-foreground, 'text');

  &[disabled] {
    color: mat-color($mat-foreground, 'disabled');
    cursor: default;
  }

  &:hover:not([disabled]), &:focus:not([disabled]) {
    background: mat-color($mat-background, 'hover');
  }
}

button[mat-menu-item] {
  width: 100%;
}

.mat-menu-click-catcher {
  @include mat-fullscreen();
}